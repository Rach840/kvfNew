(()=>{var e={};e.id=139,e.ids=[139],e.modules={96330:e=>{"use strict";e.exports=require("@prisma/client")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},33873:e=>{"use strict";e.exports=require("path")},11723:e=>{"use strict";e.exports=require("querystring")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},53673:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d});var s=t(70260),i=t(28203),a=t(25155),n=t.n(a),l=t(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43642)),"C:\\Users\\Student\\Downloads\\kvfNew\\kvfNew\\app\\login\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],types:["__DEFAULT__",{},{defaultPage:[()=>Promise.resolve().then(t.t.bind(t,97507,23)),"next/dist/client/components/parallel-route-default.js"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,19611)),"C:\\Users\\Student\\Downloads\\kvfNew\\kvfNew\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,61129)),"C:\\Users\\Student\\Downloads\\kvfNew\\kvfNew\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\Student\\Downloads\\kvfNew\\kvfNew\\app\\login\\page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},84721:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"0081125577be63c17571a5c16c4a7d7178f760e168":()=>s.q});var s=t(40530)},48230:(e,r,t)=>{Promise.resolve().then(t.bind(t,43642))},17966:(e,r,t)=>{Promise.resolve().then(t.bind(t,18640))},18640:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>f});var s=t(45512),i=t(58009),a=t(6868),n=t(86277),l=t(81914),o=t(15310),d=t(87021),u=t(90993),c=t(79334),m=t(57242);let p=({})=>{let e=(0,c.useRouter)(),[r,t]=(0,i.useState)(!1),p=(0,a.mN)({resolver:(0,l.u)(n.X5),defaultValues:{email:"",password:""}}),f=async r=>{try{let t=await (0,u.signIn)("credentials",{...r,redirect:!1});if(!t?.ok)throw Error();e.push("/")}catch(e){console.log(e),t(!0)}};return(0,s.jsx)(a.Op,{...p,children:(0,s.jsxs)("form",{className:" bg-white container w-full mx-auto lg:w-2/5 border-x-2 border-y-2 rounded-lg my-10 py-10 px-10 mx-auto  border-gray-900/10 pb-12  ",onSubmit:p.handleSubmit(f),children:[(0,s.jsx)("h2",{className:" text-3xl font-semibold text-gray-900",children:"Авторизация"}),(0,s.jsx)("p",{className:"mt-1 text-lg text-gray-600",children:"Авторизируйся для доступа к тестам"}),r?(0,s.jsx)(m.A,{severity:"error",children:"Такого пользователя не существует!."}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)("div",{className:"mt-10 ",children:(0,s.jsxs)("div",{className:"mx-auto",children:[(0,s.jsx)("label",{htmlFor:"first-name",className:"block text-sm/6 font-medium text-gray-900"}),(0,s.jsx)(o.Z,{name:"email",label:"E-Mail",required:!0}),(0,s.jsx)(o.Z,{name:"password",label:"Пароль",type:"password",required:!0}),(0,s.jsx)(d.$,{loading:p.formState.isSubmitting,className:"  duration-300  rounded-md bg-indigo-600 px-5 py-6 text-lg my-4 font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",children:"Войти"})]})})]})})};function f(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p,{})})}},15310:(e,r,t)=>{"use strict";t.d(r,{Z:()=>c});var s=t(45512),i=t(6868),a=t(25409),n=t(59462),l=t(44269);t(58009);let o=({onClick:e,className:r})=>(0,s.jsx)("button",{onClick:e,className:(0,n.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",r),children:(0,s.jsx)(l.A,{className:"h-5 w-5"})}),d=({text:e,className:r})=>(0,s.jsx)("p",{className:(0,n.cn)("text-red-500 text-sm",r),children:e}),u=()=>(0,s.jsx)("span",{className:"text-red-500",children:"*"}),c=({className:e,name:r,label:t,required:n,defaultValue:l,...c})=>{let{register:m,formState:{errors:p},watch:f,setValue:g}=(0,i.xW)(),x=f(r),v=p[r]?.message;return(0,s.jsxs)("div",{className:e,children:[t&&(0,s.jsxs)("p",{className:"font-medium mb-2",children:[t," ",n&&(0,s.jsx)(u,{})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(a.p,{defaultValue:l||"",className:"h-12 text-md",...m(r),...c}),x&&(0,s.jsx)(o,{onClick:()=>{g(r,"",{shouldValidate:!0})}})]}),v&&(0,s.jsx)(d,{text:v,className:"mt-2"})]})}},86277:(e,r,t)=>{"use strict";t.d(r,{Do:()=>n,IK:()=>a,X5:()=>i});var s=t(16131);let i=s.z.object({email:s.z.string().email({message:"Введите корректную почту"}),password:s.z.string().min(6,{message:"Пароль должен содержать минимум 6 символов"}).refine(e=>/[A-Z]/.test(e),{message:"Пароль должен содержать хотя бы одну заглавную букву"}).refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e),{message:"Пароль должен содержать хотя бы один специальный символ"}).refine(e=>/[0-9]/.test(e),{message:"Пароль должен содержать хотя бы одну цифру"})});s.z.object({name:s.z.string()});let a=s.z.object({name:s.z.string(),category:s.z.string(),text:s.z.string()}),n=s.z.object({firstName:s.z.string().min(3,{message:"Имя пользователя должно содержать минимум 3 символа"}),lastName:s.z.string().min(3,{message:"Фамилия пользователя должна содержать минимум 3 символа"}),surName:s.z.string(),email:s.z.string().email({message:"Введите корректную почту"}),password:s.z.string().min(6,{message:"Пароль должен содержать минимум 6 символов"}).refine(e=>/[A-Z]/.test(e),{message:"Пароль должен содержать хотя бы одну заглавную букву"}).refine(e=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]+/.test(e),{message:"Пароль должен содержать хотя бы один специальный символ"}).refine(e=>/[0-9]/.test(e),{message:"Пароль должен содержать хотя бы одну цифру"}),organisation:s.z.string(),role:s.z.string().min(1,{message:"Выберите категорию"}),startTest:s.z.string().min(1,{message:"Выберите уровень теста"})})},87021:(e,r,t)=>{"use strict";t.d(r,{$:()=>u});var s=t(45512),i=t(58009),a=t(12705),n=t(21643),l=t(59462),o=t(6766);let d=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline",succes:"bg-green-600 text-destructive-foreground hover:bg-destructive/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(({className:e,variant:r,size:t,asChild:i=!1,children:n,disabled:u,loading:c,...m},p)=>{let f=i?a.DX:"button";return(0,s.jsx)(f,{disabled:u||c,className:(0,l.cn)(d({variant:r,size:t,className:e})),ref:p,...m,children:c?(0,s.jsx)(o.A,{className:"w-5 h-5 animate-spin"}):n})});u.displayName="Button"},25409:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var s=t(45512),i=t(58009),a=t(59462);let n=i.forwardRef(({className:e,type:r,...t},i)=>(0,s.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...t}));n.displayName="Input"},6766:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(41680).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},43642:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Student\\\\Downloads\\\\kvfNew\\\\kvfNew\\\\app\\\\login\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Student\\Downloads\\kvfNew\\kvfNew\\app\\login\\page.tsx","default")},40530:(e,r,t)=>{"use strict";t.d(r,{q:()=>u});var s=t(21590);t(70376);var i=t(24118),a=t.n(i),n=t(24871),l=t(70709),o=t(8805);let d={providers:[(0,n.A)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!e)return null;let r={email:e.email},t=await l.z.user.findFirst({where:r});return t&&await (0,o.compare)(e.password,t.password)?{id:t.id,email:t.email,name:t.firstName,role:t.role}:null}})],secret:process.env.NEXTAUTH_SECRET,session:{strategy:"jwt"},callbacks:{async signIn({user:e,account:r}){try{if(r?.provider==="credentials")return!0;if(!e?.email)return!1;return!!await l.z.user.findFirst({where:{email:e.email}})}catch(e){console.log("Error [SIGN IN]",e)}return!1},async jwt({token:e}){if(!e.email)return e;let r=await l.z.user.findFirst({where:{email:e.email}});return r&&(e.id=r.id,e.email=r.email,e.name=r.firstName,e.role=r.role),e},session:({session:e,token:r})=>(e?.user&&(e.user.id=r.id,e.user.role=r.role),e)}};async function u(){let e=await (0,i.getServerSession)(d);if(e?.user)return await l.z.user.findFirst({where:{id:e.user.id}})}a()(d),(0,t(99344).D)([u]),(0,s.A)(u,"0081125577be63c17571a5c16c4a7d7178f760e168",null)},70709:(e,r,t)=>{"use strict";t.d(r,{z:()=>i});var s=t(96330);let i=globalThis.prismaGlobal??new s.PrismaClient},29952:(e,r,t)=>{"use strict";t.d(r,{s:()=>a,t:()=>i});var s=t(58009);function i(...e){return r=>e.forEach(e=>{"function"==typeof e?e(r):null!=e&&(e.current=r)})}function a(...e){return s.useCallback(i(...e),e)}},12705:(e,r,t)=>{"use strict";t.d(r,{DX:()=>n});var s=t(58009),i=t(29952),a=t(45512),n=s.forwardRef((e,r)=>{let{children:t,...i}=e,n=s.Children.toArray(t),o=n.find(d);if(o){let e=o.props.children,t=n.map(r=>r!==o?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(l,{...i,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,t):null})}return(0,a.jsx)(l,{...i,ref:r,children:t})});n.displayName="Slot";var l=s.forwardRef((e,r)=>{let{children:t,...a}=e;if(s.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return s.cloneElement(t,{...function(e,r){let t={...r};for(let s in r){let i=e[s],a=r[s];/^on[A-Z]/.test(s)?i&&a?t[s]=(...e)=>{a(...e),i(...e)}:i&&(t[s]=i):"style"===s?t[s]={...i,...a}:"className"===s&&(t[s]=[i,a].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props),ref:r?(0,i.t)(r,e):e})}return s.Children.count(t)>1?s.Children.only(null):null});l.displayName="SlotClone";var o=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function d(e){return s.isValidElement(e)&&e.type===o}},21643:(e,r,t)=>{"use strict";t.d(r,{F:()=>n});var s=t(82281);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,a=s.$,n=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return a(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:l}=r,o=Object.keys(n).map(e=>{let r=null==t?void 0:t[e],s=null==l?void 0:l[e];if(null===r)return null;let a=i(r)||i(s);return n[e][a]}),d=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return a(e,o,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...i}=r;return Object.entries(i).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...d}[r]):({...l,...d})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[989,934,835,285,818,242,117],()=>t(53673));module.exports=s})();